# Item 21 예제 실행 가이드

## 프로젝트 구조
```
item21/
├── Collection.java            - 컬렉션 인터페이스 예제
├── CustomCollection.java      - 기본 컬렉션 구현체
├── SynchronizedCollection.java - 동기화된 컬렉션 구현체
└── DefaultMethodTest.java     - 테스트 실행 클래스
```

## 실행 방법
1. 모든 Java 파일을 item21 패키지 아래에 위치시킵니다.
2. DefaultMethodTest 클래스를 실행합니다.

## 학습 포인트

### 1. Collection 인터페이스
* 디폴트 메서드의 위험성
* removeIf 구현의 문제점
* 불변식 유지의 어려움

### 2. CustomCollection 클래스
* 기본적인 컬렉션 구현
* 디폴트 메서드 상속
* 발생 가능한 문제점 시연

### 3. SynchronizedCollection 클래스
* 동기화 요구사항 추가
* 디폴트 메서드와의 충돌
* 해결 방안 제시

## 기대 실행 결과
```
=== 기본 컬렉션 테스트 ===
요소 추가: [1, 2, 3, 4, 5]
짝수 제거 후: [1, 3, 5]

=== 동기화된 컬렉션 테스트 ===
요소 추가: [1, 2, 3, 4, 5]
동기화된 상태에서 짝수 제거
경고: 디폴트 메서드로 인한 동기화 누락 가능성
결과: [1, 3, 5]

=== 문제 상황 테스트 ===
멀티스레드 환경에서 잠재적 문제 발생 가능
- 동기화되지 않은 접근
- 데이터 일관성 깨짐
```

## 주요 학습 내용
1. 디폴트 메서드의 위험성 이해
2. 동기화 요구사항과의 충돌
3. 인터페이스 설계 시 고려사항
4. 하위 호환성 관리 방법

## 추가 실습 제안
1. 다른 디폴트 메서드 시나리오 만들어보기
2. 다양한 동시성 문제 상황 테스트해보기
3. 다른 종류의 불변식 추가해보기
4. 테스트 케이스 작성해보기